import { useFormContext } from "react-hook-form";

const ClearButton = ({name}) => {
    const {setValue, watch} = useFormContext()
    const fieldValue = watch(name)
    const onClearValClick = () => setValue(name, '', {shouldTouch: false, shouldValidate: false})

    return (
        <>
            {
                !!fieldValue && (
                    <button className="clear-field" onClick={onClearValClick}>
                        <svg viewBox="0 0 7 7" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M6.76095 0.239051C6.60784 0.0859869 6.4002 0 6.18371 0C5.96721 0 5.75957 0.0859869 5.60646 0.239051L3.49507 2.35044L1.38368 0.239051C1.22969 0.0903248 1.02345 0.00802932 0.809375 0.00988958C0.595299 0.0117498 0.390518 0.0976169 0.239138 0.248997C0.0877582 0.400377 0.00189112 0.605158 3.08647e-05 0.819234C-0.0018294 1.03331 0.0804661 1.23955 0.229193 1.39354L2.34058 3.50493L0.229193 5.61632C0.0804661 5.77031 -0.0018294 5.97655 3.08647e-05 6.19062C0.00189112 6.4047 0.0877582 6.60948 0.239138 6.76086C0.390518 6.91224 0.595299 6.99811 0.809375 6.99997C1.02345 7.00183 1.22969 6.91953 1.38368 6.77081L3.49507 4.65942L5.60646 6.77081C5.76045 6.91953 5.96669 7.00183 6.18077 6.99997C6.39484 6.99811 6.59962 6.91224 6.751 6.76086C6.90238 6.60948 6.98825 6.4047 6.99011 6.19062C6.99197 5.97655 6.90968 5.77031 6.76095 5.61632L4.64956 3.50493L6.76095 1.39354C6.91401 1.24043 7 1.03279 7 0.816295C7 0.599797 6.91401 0.392162 6.76095 0.239051Z" fill="#BDBDBD"/>
                        </svg>
                    </button>
                )
            }
        </>
    );
}

export default ClearButton;